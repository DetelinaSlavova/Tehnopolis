<div ng-controller="productController" class="mainWrapper">

    <!--For sorts -->
        <div>
            <!--<input list="prods">
                    
            <datalist id="prods">
                <option value="Име (възходящ ред)">
                <option value="Име (низходящ ред)">
                <option value="Цена (възходящ ред)">
                <option value="Цена (низходящ ред)">
            </datalist>-->
            <div id="button">
                <ul>
                    <li class="top">Сортирай:</li>
                    <li class="item" ng-click='ascendingName()'><a href="">Име (възходящ ред)</a></li>
                    <li class="item" ng-click='descendingName()'><a href="">Име (низходящ ред)</a></li>
                    <li class="item" ng-click='ascendingPrice()'><a href="">Цена (възходящ ред)</a></li>
                    <li class="item" ng-click='descendingPrice()'><a href="">Цена (низходящ ред)</a></li>
                </ul>
            </div>
        </div>
        <!--<div id='boxes'>
        <input type="checkbox" class='try' id='b' value='TOSHIBA' ng-click='sortByBrand()'>TOSHIBA</input>
        <input type="checkbox" class='try' id='s' value='SANG' ng-click='sortByBrand()'>SANG</input>
        <input type="checkbox" class='try' id='r' value='JVC' ng-click='sortByBrand()'>JVC</input>            
        </div>-->

        <div ng-repeat="product in products">
            <label>
                <input type="checkbox" ng-true-value="'{{product.name.split(' ')[1]}}'" ng-false-value="''" ng-model="selectedBrands[$index]" ng-change="selectBrand(product)">
                    {{product.name.split(" ")[1]}}
            </label>
        </div>

        <br>
            
        <div ng-repeat="brand in selectedBrands track by $index" ng-if="brand">
            {{brand}}
            <div ng-repeat="product in products" ng-hide='check(product)' >
                <label>
                </label>
            </div>
        </div>

    <!--End of sorts -->

        <!-- <div  class= "main-divs"> -->
        <div id="conteinerForProduct" class="row" ng-repeat="product in products">
                <div class="col-sm-3 side left" >
                        <div class="first">
                            <a href="#!/product/{{product._id}}">
                            <img ng-src="{{product.img}}"width: "150px" height="150px"/>
                            </a>
                        </div>
                        <hr style="visibility: hidden">
                        <div>
                            <span><img src="images/heart.png" width="15px" alt="heart">
                                ЛЮБИМИ &nbsp;
                            </span>
                            <span ><img src="images/compare.png" width="15px" alt="compare"  >
                                СРАВНИ 
                            </span>
                        </div>
                </div>
                <div class="col-sm-4 side center">
                    <div class="first"> 
                        <p class="text-uppercase font-weight-bold">{{product.name}}</p>
                        <p class="text-uppercase font-weight-bold">КОД:{{product.code}}</p>
                        <ul  >
                            <li class="text-justify" ng-repeat="(key, value) in product.info[0]"> {{key|uppercase}}: {{value}}</li>
                        </ul>
                       
                    </div>
                    
                <hr>
                <div class="text-center">
                    <span>РЕЙТИНГ: </span>
                    <span >
                        <img src="images/star.png" width="12px" alt="">
                        <img src="images/star.png" width="12px" alt="">
                        <img src="images/star.png" width="12px" alt="">
                        <img src="images/star.png" width="12px" alt="">
                        <img src="images/star.png" width="12px" alt="">
                    </span>
                </div>
                <br>
            </div>
            <div class="col-sm-3 side right">
                <p>ЦЕНА: {{product.price}} лв.</p>
                <hr>
                <div class="text-center">
                        <button type="button" class="btn btn-secondary btn-sm blue buy" ng-click="AddToCart(product)">КУПИ</button>
                </div ng-controller="loginController">
                <div class="text-center"><button type="button" class="btn btn-secondary btn-sm red" ng-click="">ВИЖ ОЩЕ</button></div>
                <div ng-show="isAdmin" class="text-center"ng-controller="adminController"><button type="button" class="btn btn-secondary btn-sm red" ng-click="removeProduct(product)">ПРЕМАХНИ</button></div>
                <div ng-show="isAdmin" class="text-center"><button type="button" class="btn btn-secondary btn-sm red" ng-click=""><a href="#!/admin/edit/{{product._id}}">РЕДАКТИРАЙ</a></button></div>   
        </div>        
    </div>

